### Требования к проекту **Scheduler**

#### Авторизация пользователей

Должна быть авторизация через [Вконтакте](vk.com)

### Роли пользователей

* #### Студенты

  * Староста (выдаётся при создании группы, можно передать)
  * Модератор
  * Редактор
  * Рядовой студент

* #### Учителя

  * Рядовой учитель (энивей у них нет возможностей :D)

* #### Гости

  * Все неавторизованные пользователи и авторизованные пользователи без назначенной роли

### Возможности ролей

#### Гость:

* Просматривать информацию с публичным доступом:
  * Группы
  * Занятия
  * Задания
  * Экзамены

#### Зарегистрированный пользователь:

* Право создавать приватные группы (неограниченное число)
* Право вступать в группы (неограниченное число)

#### Учитель:

* *Возможности гостя*

#### Рядовой студент:

* *Возможности зарегистрированного пользователя*
* Право приглашать в публичную группу
* Право делать группу публичной
* Право добавлять заметки к заданию
* Право добавлять заметки к экзамену
* Право загрузить файл расписания для добавления его в расписание

#### Редактор:

* *Возможности рядового студента*
* Право создавать занятие
* Право редактировать занятие
* Право удалять занятие
* Право создать задание по занятию
* Право редактировать задание
* Право добавить экзамен
* Право редактировать экзамен

#### Модератор:

* *Возможности редактора*
* Право назначить роль редактора
* Право удалять задание
* Право удалять экзамен

#### Староста:

* *Возможности модератора*
* Право назначить роль модератора
* Право передать роль старосты

* Право удалить группу

### Сущности предметной области

##### Пользователь

* Имя*
* Фамилия*
* Отчество
* Телефон
* Почтовый ящик

##### Группа

* Участники группы*
* Занятия в группе
* Задания группы
* Экзамены группы

##### Занятие

* Группа*

* Преподаватель
* Урок*
* Аудитория
* Время*
* Чётность недели*

##### Задание

* Группа*
* Урок*
* Дата выдачи*
* Занятие, на котором выдали*
* Дата сдачи*
* Занятие, на котором сдавать

##### Урок

* Название*
* Кафедра

##### Аудитория

* Название*

##### Экзамен

* Группа*

* Дата экзамена*
* Время экзамена*
* Преподаватель*

#### Доступность контента

Контент может быть 3 типов:

* Public (для всех)
* Group (для участников группы)
* Private (для пользователя)

*Не все сущности могут иметь любой тип доступа*

##### Возможные модификаторы доступа для сущностей:

* Пользователь

  * Public

  *По умолчанию **Public***

* Группа

  * Public
  * Private

  *По умолчанию **Private***

* Занятие
  * Public

    Если группа занятия является публичной

  * Group

    Если группа занятия является приватной

  *Значение по умолчанию зависит от группы*

* Задание
  * Public

    Если группа задания является публичной

  * Group

    Если группа задания является приватной

  *Значение по умолчанию зависит от группы*

* Урок

  * Public
  * Group
  * Private

  *По умолчанию **Public***

* Аудитория
  * Public
  * Group
  * Private

  *По умолчанию **Public***

* Экзамен
  * Public

    Если группа экзамена является публичной

  * Group

    Если группа группа является приватной

  *Значение по умолчанию зависит от группы*

### Сценарии использования

1. **Возможный пользователь впервые зашёл на сайт**
   1. Пользователь считается гостем и обладает его возможностями

2. **Возможный пользователь выполняет первую авторизацию**

   1. Пользователь начинает авторизацию через стороннего провайдера

   2. Сайт перенаправляет его на стороннего провайдера

   3. Пользователь вводит свои данные и авторизуется у стороннего провайдера

   4. Пользователя возвращает на страницу профиля

   5. Пользователь заполняет информацию:

      1. Имя*

      2. Фамилия*

      3. Отчество
      4. Телефон
      5. e-mail

   6. Провайдер авторизации сохраняется вместе с введёнными данными

   7. Пользователь считается зарегистрированным пользователем

   *Расширения:*

   3a. Пользователь не авторизовывается у стороннего провайдера

   4. Регистрация пользователя считается проваленной

   5а. Пользователь не вводит необходимую информацию

   6. Сервис не даёт продолжить регистрацию, пока не будут введены требуемые данные

3. **Зарегистрированный пользователь создаёт группу**
   1. Пользователь нажимает кнопку создания группы
   2. Сервис предлагает ввести данные группы:
      1. Название*
      2. Описание
      3. Является ли эта группа официальной группой университета*
   3. Пользователь вводит необходимые данные
   4. 

